# Equipment System Planning

## Overview
This document outlines the equipment system for the Townie Maker module, including wealth by level, starting equipment kits, and the magic item purchasing strategy.

## Wealth by Level (GP)
Based on D&D 3.5e SRD Character Wealth by Level table:

| Level | Wealth (gp) | Level | Wealth (gp) |
|-------|------------|-------|------------|
| 1 | By Class* | 11 | 66,000 |
| 2 | 900 | 12 | 88,000 |
| 3 | 2,700 | 13 | 110,000 |
| 4 | 5,400 | 14 | 150,000 |
| 5 | 9,000 | 15 | 200,000 |
| 6 | 13,000 | 16 | 260,000 |
| 7 | 19,000 | 17 | 340,000 |
| 8 | 27,000 | 18 | 440,000 |
| 9 | 36,000 | 19 | 580,000 |
| 10 | 49,000 | 20 | 760,000 |

*Level 1 starting wealth varies by class (see Class Starting Wealth below)

## Equipment Purchasing Strategy

For each character level:
1. **Buy Mundane Equipment** - Weapon, armor, adventuring gear from starting kit
2. **Buy Magic Items** - Spend remaining wealth on magic items (more at higher levels)
3. **Remainder as Coins** - Leftover goes on character as pp/gp/sp/cp

### Magic Item Budget Guidelines
- **Low Levels (1-3)**: 0-1 minor magic items
- **Mid Levels (4-10)**: 1-3 items, focus on basics (+1 weapons/armor)
- **High Levels (11-15)**: 3-5 items, better enhancements (+2/+3)
- **Epic Levels (16-20)**: 5+ items, powerful gear (+4/+5, special abilities)

## Class Starting Equipment Kits

### Barbarian (Starting: 4d4×10 gp = ~100 gp)
**Mundane Kit (~95 gp):**
- Greataxe (20 gp)
- Hide armor (15 gp)
- Mighty composite longbow +2 Str (175 gp) *[Too expensive for starting]*
  - OR: Javelin ×5 (5 gp)
- Backpack (2 gp)
- Bedroll (1 sp)
- Waterskin (1 gp)
- Trail rations ×3 days (1.5 gp)
- Rope, hempen 50ft (1 gp)
- **Total: ~45 gp for basic kit**

**Optimized Barbarian Kit:**
- Greataxe (20 gp) - primary two-handed weapon
- 4x Javelins (4 gp) - ranged backup
- Hide armor (15 gp) - best light/medium armor they start proficient with
- Backpack (2 gp)
- Bedroll (1 sp)
- Waterskin (1 gp)
- Trail rations ×7 days (3.5 gp)
- Rope, hempen 50ft (1 gp)
- Flint and steel (1 gp)
- Belt pouch (1 gp)
- **Total: ~49 gp**

### Fighter (Starting: 6d4×10 gp = ~150 gp)
**Optimized Fighter Kit:**
- Longsword (15 gp) - versatile one-handed
- Heavy steel shield (20 gp)
- Scale mail (50 gp) - best medium armor
- Longbow (75 gp)
- Arrows ×40 (2 gp)
- Backpack (2 gp)
- Bedroll (1 sp)
- Waterskin (1 gp)
- Trail rations ×7 days (3.5 gp)
- Rope, hempen 50ft (1 gp)
- Whetstone (2 cp)
- Flint and steel (1 gp)
- **Total: ~171 gp** (slightly over budget, can adjust)

**Alternative (within budget):**
- Greatsword (50 gp)
- Scale mail (50 gp)
- Shortbow (30 gp)
- Arrows ×40 (2 gp)
- Basic adventuring gear (10 gp)
- **Total: ~142 gp**

### Rogue (Starting: 5d4×10 gp = ~125 gp)
**Optimized Rogue Kit:**
- Rapier (20 gp) - best finesse weapon
- Shortbow (30 gp)
- Arrows ×40 (2 gp)
- Studded leather (25 gp) - best light armor
- Thieves' tools (30 gp) - ESSENTIAL
- Backpack (2 gp)
- Bedroll (1 sp)
- Waterskin (1 gp)
- Trail rations ×7 days (3.5 gp)
- Rope, silk 50ft (10 gp) - better for climbing
- Grappling hook (1 gp)
- Caltrops ×2 bags (2 gp)
- Flint and steel (1 gp)
- Belt pouch (1 gp)
- **Total: ~129.5 gp**

### Cleric (Starting: 5d4×10 gp = ~125 gp)
**Optimized Cleric Kit:**
- Heavy mace (12 gp) - simple, bludgeoning
- Heavy steel shield (20 gp)
- Scale mail (50 gp) - medium armor prof
- Wooden holy symbol (1 gp) - ESSENTIAL
- Spell component pouch (5 gp)
- Backpack (2 gp)
- Bedroll (1 sp)
- Waterskin (1 gp)
- Trail rations ×7 days (3.5 gp)
- Healer's kit (50 gp) - thematic
- **Total: ~145 gp** (over budget)

**Within Budget:**
- Heavy mace (12 gp)
- Heavy wooden shield (7 gp)
- Scale mail (50 gp)
- Wooden holy symbol (1 gp)
- Spell component pouch (5 gp)
- Backpack (2 gp)
- Basic supplies (10 gp)
- **Total: ~89 gp**

### Wizard (Starting: 3d4×10 gp = ~75 gp)
**Optimized Wizard Kit:**
- Quarterstaff (free) - simple weapon
- Crossbow, light (35 gp) - ranged backup
- Bolts ×20 (2 gp)
- Spellbook (15 gp) - ESSENTIAL (comes with starting spells)
- Spell component pouch (5 gp) - ESSENTIAL
- Scholar's outfit (5 gp)
- Backpack (2 gp)
- Bedroll (1 sp)
- Waterskin (1 gp)
- Trail rations ×7 days (3.5 gp)
- Ink and inkpen (8 gp + 1 sp)
- **Total: ~77.5 gp**

### Sorcerer (Starting: 3d4×10 gp = ~75 gp)
**Optimized Sorcerer Kit:**
- Light crossbow (35 gp)
- Bolts ×20 (2 gp)
- Spell component pouch (5 gp) - ESSENTIAL
- Courtier's outfit (30 gp) - charisma-based
- Backpack (2 gp)
- Bedroll (1 sp)
- Waterskin (1 gp)
- Trail rations ×7 days (3.5 gp)
- **Total: ~78.5 gp**

### Ranger (Starting: 6d4×10 gp = ~150 gp)
**Optimized Ranger Kit:**
- Longsword (15 gp)
- Longbow (75 gp) - iconic ranger weapon
- Arrows ×40 (2 gp)
- Studded leather (25 gp)
- Backpack (2 gp)
- Bedroll (1 sp)
- Waterskin (1 gp)
- Trail rations ×14 days (7 gp) - ranger survival
- Rope, hempen 50ft (1 gp)
- Flint and steel (1 gp)
- Whetstone (2 cp)
- **Total: ~129 gp**

### Paladin (Starting: 6d4×10 gp = ~150 gp)
**Optimized Paladin Kit:**
- Longsword (15 gp) - iconic
- Heavy steel shield (20 gp)
- Scale mail (50 gp)
- Silver holy symbol (25 gp) - better than wooden
- Backpack (2 gp)
- Bedroll (1 sp)
- Waterskin (1 gp)
- Trail rations ×7 days (3.5 gp)
- Rope, hempen 50ft (1 gp)
- Holy water ×2 (50 gp)
- **Total: ~168 gp** (over budget)

**Within Budget:**
- Longsword (15 gp)
- Heavy steel shield (20 gp)
- Scale mail (50 gp)
- Wooden holy symbol (1 gp)
- Basic supplies (15 gp)
- **Total: ~101 gp**

### Bard (Starting: 4d4×10 gp = ~100 gp)
**Optimized Bard Kit:**
- Rapier (20 gp) - finesse weapon
- Shortbow (30 gp)
- Arrows ×20 (1 gp)
- Studded leather (25 gp)
- Musical instrument, common (5 gp) - ESSENTIAL
- Spell component pouch (5 gp)
- Entertainer's outfit (3 gp)
- Backpack (2 gp)
- Bedroll (1 sp)
- Waterskin (1 gp)
- Trail rations ×7 days (3.5 gp)
- **Total: ~96 gp**

### Monk (Starting: 1d4×10 gp = ~25 gp)
**Optimized Monk Kit:**
- Quarterstaff (free) - monk weapon
- Shuriken ×10 (2 gp) - monk ranged
- Monk's outfit (5 gp) - ESSENTIAL
- Backpack (2 gp)
- Bedroll (1 sp)
- Waterskin (1 gp)
- Trail rations ×7 days (3.5 gp)
- Rope, hempen 50ft (1 gp)
- **Total: ~14.5 gp**

### Druid (Starting: 2d4×10 gp = ~50 gp)
**Optimized Druid Kit:**
- Scimitar (15 gp) - druid weapon
- Sling (free)
- Sling bullets ×20 (2 sp)
- Hide armor (15 gp)
- Holly and mistletoe (free) - divine focus
- Traveler's outfit (1 gp)
- Backpack (2 gp)
- Bedroll (1 sp)
- Waterskin (1 gp)
- Trail rations ×7 days (3.5 gp)
- Healer's kit (50 gp) *[too expensive]*
- **Total: ~38 gp**

## Implementation Notes

### Data Structure
```typescript
interface EquipmentItem {
  name: string;
  cost: number;  // in gold pieces
  weight?: number;
  category: 'weapon' | 'armor' | 'shield' | 'gear' | 'tool' | 'magic';
  quantity?: number;
}

interface EquipmentKit {
  mundaneItems: EquipmentItem[];
  totalMundaneCost: number;
}

// Add to TownieTemplate
equipment?: {
  kit: EquipmentKit;
  magicItemBudget?: {
    minItems: number;
    maxItems: number;
    preferredTypes?: string[];  // e.g., ['weapon', 'armor', 'wondrous']
  };
};
```

### Purchasing Algorithm
```typescript
function equipCharacter(template: TownieTemplate, level: number): Equipment {
  const totalWealth = WEALTH_BY_LEVEL[level];
  const mundaneCost = calculateMundaneCost(template.equipment.kit);
  const magicBudget = totalWealth - mundaneCost;
  
  // Buy magic items with remaining budget
  const magicItems = selectMagicItems(magicBudget, level, template);
  
  // Calculate leftover coins
  const leftover = magicBudget - calculateMagicCost(magicItems);
  const coins = convertToCoins(leftover);
  
  return {
    mundane: template.equipment.kit.mundaneItems,
    magic: magicItems,
    coins: coins
  };
}
```

### Coin Conversion
Split remainder into realistic denominations:
- Platinum (10 gp each) - for amounts over 100 gp
- Gold (1 gp each) - standard
- Silver (0.1 gp each) - for fractional amounts
- Copper (0.01 gp each) - for small change

Example: 237.5 gp remaining
- 23 pp (230 gp)
- 7 gp
- 5 sp

## Next Steps

1. ✅ Research SRD equipment prices
2. ⏳ Create optimized starting kits for all 23 templates
3. ⏳ Define magic item selection algorithm
4. ⏳ Implement wealth-by-level lookup
5. ⏳ Implement equipment purchasing in d35e-adapter.ts
6. ⏳ Add equipment to character sheet
7. ⏳ Test with various levels

## Magic Item Considerations

### Priority by Level Range
**Levels 1-5:** +1 weapons/armor, basic stat boosters, scrolls/potions
**Levels 6-10:** +2 weapons/armor, rings of protection, cloaks of resistance
**Levels 11-15:** +3 weapons/armor, stat boosters +2, special abilities
**Levels 16-20:** +4/+5 weapons/armor, stat boosters +4/+6, powerful items

### Class-Specific Preferences
- **Fighters/Barbarians/Rangers:** +X weapons, +X armor, strength boosters
- **Rogues/Monks:** +X weapons, dexterity boosters, utility items
- **Wizards/Sorcerers:** Stat boosters (int/cha), protection items, metamagic rods
- **Clerics/Druids:** Stat boosters (wis), armor, healing items
- **Paladins:** +X weapons, +X armor, charisma boosters
- **Bards:** Charisma boosters, instruments, versatile items
